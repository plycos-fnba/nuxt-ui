import U from"./Icon.58109ee6.js";import R from"./Button.e66b92cc.js";import{f as O,r as m,g as M,h as S,i as N,j as V,k as Y,l as _,_ as J,m as F,n as B,q as L,s as E,o as k,c as $,F as Q,v as W,x as P,y as Z,w as b,b as h,z as A,A as T,B as x,C as ee,T as te,D as oe,E as ne,a as se,d as le,t as ae,G as re}from"./entry.15b2c184.js";import{u as ue,o as ie,a as ce,b as pe}from"./ui.config.11ea5c6e.js";import{t as j,u as z,o as g,H as w,N as K,a as D}from"./dom.57d36f63.js";import{c as de,l as I,p as fe}from"./open-closed.f930b576.js";import{b as ve}from"./use-resolve-button-type.b5abcb59.js";import"./Link.f8eaa802.js";import"./nuxt-link.6d15bb79.js";import"./tw-merge.b4f74c24.js";var me=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(me||{});let q=Symbol("DisclosureContext");function H(e){let i=_(q,null);if(i===null){let c=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,H),c}return i}let G=Symbol("DisclosurePanelContext");function ge(){return _(G,null)}let ye=O({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:i,attrs:c}){let r=m(e.defaultOpen?0:1),t=m(null),d=m(null),l={buttonId:m(`headlessui-disclosure-button-${j()}`),panelId:m(`headlessui-disclosure-panel-${j()}`),disclosureState:r,panel:t,button:d,toggleDisclosure(){r.value=z(r.value,{0:1,1:0})},closeDisclosure(){r.value!==1&&(r.value=1)},close(s){l.closeDisclosure();let u=(()=>s?s instanceof HTMLElement?s:s.value instanceof HTMLElement?g(s):g(l.button):g(l.button))();u==null||u.focus()}};return M(q,l),de(S(()=>z(r.value,{0:I.Open,1:I.Closed}))),()=>{let{defaultOpen:s,...u}=e,f={open:r.value===0,close:l.close};return w({theirProps:u,ourProps:{},slot:f,slots:i,attrs:c,name:"Disclosure"})}}}),be=O({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:i,slots:c,expose:r}){let t=H("DisclosureButton"),d=ge(),l=S(()=>d===null?!1:d.value===t.panelId.value);N(()=>{l.value||e.id!==null&&(t.buttonId.value=e.id)}),V(()=>{l.value||(t.buttonId.value=null)});let s=m(null);r({el:s,$el:s}),l.value||Y(()=>{t.button.value=s.value});let u=ve(S(()=>({as:e.as,type:i.type})),s);function f(){var o;e.disabled||(l.value?(t.toggleDisclosure(),(o=g(t.button))==null||o.focus()):t.toggleDisclosure())}function n(o){var p;if(!e.disabled)if(l.value)switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure(),(p=g(t.button))==null||p.focus();break}else switch(o.key){case D.Space:case D.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure();break}}function a(o){switch(o.key){case D.Space:o.preventDefault();break}}return()=>{var o;let p={open:t.disclosureState.value===0},{id:y,...v}=e,X=l.value?{ref:s,type:u.value,onClick:f,onKeydown:n}:{id:(o=t.buttonId.value)!=null?o:y,ref:s,type:u.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||g(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:f,onKeydown:n,onKeyup:a};return w({ourProps:X,theirProps:v,slot:p,attrs:i,slots:c,name:"DisclosureButton"})}}}),he=O({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:i,slots:c,expose:r}){let t=H("DisclosurePanel");N(()=>{e.id!==null&&(t.panelId.value=e.id)}),V(()=>{t.panelId.value=null}),r({el:t.panel,$el:t.panel}),M(G,t.panelId);let d=fe(),l=S(()=>d!==null?(d.value&I.Open)===I.Open:t.disclosureState.value===0);return()=>{var s;let u={open:t.disclosureState.value===0,close:t.close},{id:f,...n}=e,a={id:(s=t.panelId.value)!=null?s:f,ref:t.panel};return w({ourProps:a,theirProps:n,slot:u,attrs:i,slots:c,features:K.RenderStrategy|K.Static,visible:l.value,name:"DisclosurePanel"})}}});const C=F(B.ui.strategy,B.ui.accordion,ce),De=F(B.ui.strategy,B.ui.button,pe),Se=O({components:{HDisclosure:ye,HDisclosureButton:be,HDisclosurePanel:he,UIcon:U,UButton:R},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>C.default.openIcon},closeIcon:{type:String,default:()=>C.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:i,attrs:c}=ue("accordion",L(e,"ui"),C,L(e,"class")),r=S(()=>De),t=m([]);function d(n,a){!e.items[n].closeOthers&&e.multiple||t.value.forEach(o=>{o.open&&o.close(a.target)})}function l(n,a){n.style.height="0",n.offsetHeight,n.style.height=n.scrollHeight+"px",n.addEventListener("transitionend",a,{once:!0})}function s(n){n.style.height=n.scrollHeight+"px",n.offsetHeight}function u(n){n.style.height="auto"}function f(n,a){n.style.height="0",n.addEventListener("transitionend",a,{once:!0})}return{ui:i,uiButton:r,attrs:c,buttonRefs:t,closeOthers:d,omit:ie,onEnter:l,onBeforeLeave:s,onAfterEnter:u,onLeave:f}}});function Be(e,i,c,r,t,d){const l=U,s=R,u=E("HDisclosureButton"),f=E("HDisclosurePanel"),n=E("HDisclosure");return k(),$("div",{class:P(e.ui.wrapper)},[(k(!0),$(Q,null,W(e.items,(a,o)=>(k(),Z(n,{key:o,"default-open":e.defaultOpen||a.defaultOpen},{default:b(({open:p,close:y})=>[h(u,{ref_for:!0,ref:()=>e.buttonRefs[o]={open:p,close:y},as:"template",disabled:a.disabled,onClick:v=>e.closeOthers(o,v),onKeydown:[A(v=>e.closeOthers(o,v),["enter"]),A(v=>e.closeOthers(o,v),["space"])]},{default:b(()=>[T(e.$slots,"default",{item:a,index:o,open:p,close:y},()=>[h(s,x(ee({...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(a,["slot","disabled","content","defaultOpen"])})),{trailing:b(()=>[h(l,{name:p&&e.closeIcon?e.closeIcon:e.openIcon,class:P([p&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[a.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),h(te,oe(e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:b(()=>[ne(se("div",null,[h(f,{class:P([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:b(()=>[T(e.$slots,a.slot||"item",{item:a,index:o,open:p,close:y},()=>[le(ae(a.content),1)])]),_:2},1032,["class"])],512),[[re,p]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["default-open"]))),128))],2)}const Ae=J(Se,[["render",Be]]);export{Ae as default};
