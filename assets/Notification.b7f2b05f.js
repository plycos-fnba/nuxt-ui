import P from"./Icon.e0fa1f56.js";import z from"./Avatar.86b65d2e.js";import D from"./Button.35175a94.js";import{as as q,r as I,h as b,_ as F,m as V,n as M,f as E,q as J,H as h,i as R,k as H,j as K,o as s,y as g,w as L,a as d,D as y,x as p,I as m,A as S,d as T,t as U,c as k,F as j,v as N,J as A,P as G,T as Q}from"./entry.249e8623.js";import{t as W}from"./tw-merge.e3adece7.js";import{u as X,K as Y}from"./ui.config.89050737.js";import"./Link.0e3df67c.js";import"./nuxt-link.09ac0673.js";function Z(e,r,n){let l=null;const{pause:t,resume:C,timestamp:f}=q({...n||{},controls:!0}),a=I(null),u=b(()=>a.value?r-(f.value-a.value):0);function o(...O){l=setTimeout(()=>{l=null,a.value=null,e(...O)},u.value)}function c(){l&&(clearTimeout(l),l=null)}function v(){a.value=Date.now(),o()}function $(){c(),t()}function B(){c(),t()}function i(){o(),C(),a.value=(a.value||0)+(Date.now()-f.value)}return v(),{start:v,stop:$,pause:B,resume:i,remaining:u}}const w=V(M.ui.strategy,M.ui.notification,Y),_=E({components:{UIcon:P,UAvatar:z,UButton:D},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,required:!0},description:{type:String,default:null},icon:{type:String,default:()=>w.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>w.default.closeButton},timeout:{type:Number,default:5e3},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>w.default.color,validator(e){return["gray",...M.ui.colors].includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:r}){const{ui:n,attrs:l}=X("notification",J(e,"ui"),w);let t=null;const C=I(e.timeout),f=b(()=>W(h(n.value.wrapper,n.value.background,n.value.rounded,n.value.shadow),e.class)),a=b(()=>{var i;return h(n.value.progress.base,(i=n.value.progress.background)==null?void 0:i.replaceAll("{color}",e.color))}),u=b(()=>({width:`${C.value/e.timeout*100||0}%`})),o=b(()=>{var i;return h(n.value.icon.base,(i=n.value.icon.color)==null?void 0:i.replaceAll("{color}",e.color))});function c(){t&&t.pause()}function v(){t&&t.resume()}function $(){t&&t.stop(),e.callback&&e.callback(),r("close")}function B(i){t&&t.stop(),i.click&&i.click(),r("close")}return R(()=>{e.timeout&&(t=Z(()=>{$()},e.timeout),H(()=>{C.value=t.remaining.value}))}),K(()=>{t&&t.stop()}),{ui:n,attrs:l,wrapperClass:f,progressClass:a,progressStyle:u,iconClass:o,onMouseover:c,onMouseleave:v,onClose:$,onAction:B}}}),x={class:"w-0 flex-1"},ee={key:1,class:"mt-3 flex items-center gap-2"},te={class:"flex-shrink-0 flex items-center gap-3"},oe={key:0,class:"flex items-center gap-2"};function ne(e,r,n,l,t,C){const f=P,a=z,u=D;return s(),g(Q,y({appear:""},e.ui.transition),{default:L(()=>[d("div",y({class:e.wrapperClass,role:"status"},e.attrs,{onMouseover:r[0]||(r[0]=(...o)=>e.onMouseover&&e.onMouseover(...o)),onMouseleave:r[1]||(r[1]=(...o)=>e.onMouseleave&&e.onMouseleave(...o))}),[d("div",{class:p([e.ui.container,e.ui.rounded,e.ui.ring])},[d("div",{class:p(e.ui.padding)},[d("div",{class:p(["flex gap-3",{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}])},[e.icon?(s(),g(f,{key:0,name:e.icon,class:p(e.iconClass)},null,8,["name","class"])):m("",!0),e.avatar?(s(),g(a,y({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):m("",!0),d("div",x,[d("p",{class:p(e.ui.title)},[S(e.$slots,"title",{title:e.title},()=>[T(U(e.title),1)])],2),e.description||e.$slots.description?(s(),k("p",{key:0,class:p(e.ui.description)},[S(e.$slots,"description",{description:e.description},()=>[T(U(e.description),1)])],2)):m("",!0),(e.description||e.$slots.description)&&e.actions.length?(s(),k("div",ee,[(s(!0),k(j,null,N(e.actions,(o,c)=>(s(),g(u,y({key:c},{...e.ui.default.actionButton,...o},{onClick:A(v=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))])):m("",!0)]),d("div",te,[!e.description&&!e.$slots.description&&e.actions.length?(s(),k("div",oe,[(s(!0),k(j,null,N(e.actions,(o,c)=>(s(),g(u,y({key:c},{...e.ui.default.actionButton,...o},{onClick:A(v=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))])):m("",!0),e.closeButton?(s(),g(u,y({key:1,"aria-label":"Close"},{...e.ui.default.closeButton,...e.closeButton},{onClick:A(e.onClose,["stop"])}),null,16,["onClick"])):m("",!0)])],2)],2),e.timeout?(s(),k("div",{key:0,class:p(e.progressClass),style:G(e.progressStyle)},null,6)):m("",!0)],2)],16)]),_:3},16)}const pe=F(_,[["render",ne]]);export{pe as default};
