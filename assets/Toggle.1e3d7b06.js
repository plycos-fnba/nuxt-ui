import A from"./Icon.58109ee6.js";import{f as H,l as U,h as i,r as L,i as M,V as N,M as S,F as P,_ as R,m as T,n as I,q as G,H as b,s as q,o as C,y as z,w as J,a as Q,x as d,c as k,b as w,I as V,D as W}from"./entry.15b2c184.js";import{t as X}from"./tw-merge.b4f74c24.js";import{u as Y,w as Z}from"./ui.config.11ea5c6e.js";import{u as _}from"./useFormGroup.dcb167fa.js";import{t as x,o as ee,K as ae,H as te,T as oe,a as B}from"./dom.57d36f63.js";import{b as le}from"./use-resolve-button-type.b5abcb59.js";import{f as ne,a as ie}from"./hidden.80511a7b.js";import{d as se,p as re}from"./use-controllable.3aba1b45.js";let ue=Symbol("GroupContext"),ce=H({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${x()}`}},inheritAttrs:!1,setup(e,{emit:u,attrs:t,slots:p,expose:f}){let o=U(ue,null),[l,c]=se(i(()=>e.modelValue),a=>u("update:modelValue",a),i(()=>e.defaultChecked));function s(){c(!l.value)}let y=L(null),r=o===null?y:o.switchRef,g=le(i(()=>({as:e.as,type:t.type})),r);f({el:r,$el:r});function h(a){a.preventDefault(),s()}function $(a){a.key===B.Space?(a.preventDefault(),s()):a.key===B.Enter&&re(a.currentTarget)}function D(a){a.preventDefault()}let m=i(()=>{var a,n;return(n=(a=ee(r))==null?void 0:a.closest)==null?void 0:n.call(a,"form")});return M(()=>{N([m],()=>{if(!m.value||e.defaultChecked===void 0)return;function a(){c(e.defaultChecked)}return m.value.addEventListener("reset",a),()=>{var n;(n=m.value)==null||n.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{id:a,name:n,value:E,form:j,...F}=e,K={checked:l.value},O={id:a,ref:r,role:"switch",type:g.value,tabIndex:0,"aria-checked":l.value,"aria-labelledby":o==null?void 0:o.labelledby.value,"aria-describedby":o==null?void 0:o.describedby.value,onClick:h,onKeyup:$,onKeypress:D};return S(P,[n!=null&&l.value!=null?S(ne,ae({features:ie.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:l.value,form:j,name:n,value:E})):null,te({ourProps:O,theirProps:{...t,...oe(F,["modelValue","defaultChecked"])},slot:K,attrs:t,slots:p,name:"Switch"})])}}});const v=T(I.ui.strategy,I.ui.toggle,Z),de=H({components:{HSwitch:ce,UIcon:A},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onIcon:{type:String,default:()=>v.default.onIcon},offIcon:{type:String,default:()=>v.default.offIcon},color:{type:String,default:()=>v.default.color,validator(e){return I.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue"],setup(e,{emit:u}){const{ui:t,attrs:p}=Y("toggle",G(e,"ui"),v),{emitFormChange:f,color:o,inputId:l,name:c}=_(e),s=i({get(){return e.modelValue},set(h){u("update:modelValue",h),f()}}),y=i(()=>X(b(t.value.base,t.value.rounded,t.value.ring.replaceAll("{color}",o.value),(s.value?t.value.active:t.value.inactive).replaceAll("{color}",o.value)),e.class)),r=i(()=>b(t.value.icon.on.replaceAll("{color}",o.value))),g=i(()=>b(t.value.icon.off.replaceAll("{color}",o.value)));return{ui:t,attrs:p,name:c,inputId:l,active:s,switchClass:y,onIconClass:r,offIconClass:g}}});function pe(e,u,t,p,f,o){const l=A,c=q("HSwitch");return C(),z(c,W({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":u[0]||(u[0]=s=>e.active=s),name:e.name,disabled:e.disabled,class:e.switchClass},e.attrs),{default:J(()=>[Q("span",{class:d([e.active?e.ui.container.active:e.ui.container.inactive,e.ui.container.base])},[e.onIcon?(C(),k("span",{key:0,class:d([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[w(l,{name:e.onIcon,class:d(e.onIconClass)},null,8,["name","class"])],2)):V("",!0),e.offIcon?(C(),k("span",{key:1,class:d([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[w(l,{name:e.offIcon,class:d(e.offIconClass)},null,8,["name","class"])],2)):V("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const Se=R(de,[["render",pe]]);export{Se as default};
